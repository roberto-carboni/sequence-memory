{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["App","useState","spoken","setSpoken","seqLengt","setSeqLength","maxRange","setMaxRange","sequence","setSequence","showSequence","setShowSequence","allowedTime","setAllowedTime","timeLeft","setTimeLeft","answers","setAnswers","speed","setSpeed","timer","useRef","undefined","generateSequence","speechSynthesis","cancel","newSequence","newAnswers","i","number","Math","floor","random","push","speakSequence","clearTimeout","current","speechLoop","index","msg","SpeechSynthesisUtterance","toString","voice","getVoices","onend","length","console","log","countdown","setTimeout","speak","setInterval","prev","clearInterval","useEffect","hideableItemsVisibility","className","style","marginBottom","Grid","component","container","alignItems","spacing","item","Button","variant","color","onClick","Typography","id","gutterBottom","Slider","defaultValue","value","valueLabelDisplay","step","marks","min","max","onChange","_","newValue","type","maxLength","e","newMax","parseInt","target","visibility","join","map","setAnswer","disabled","resultStyle","green","fontSize","width","margin","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5c2a84f7.chunk.js","sourcesContent":["import { ReactNode, useEffect, useRef, useState } from 'react';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport green from '@material-ui/core/colors/green';\nimport './App.css';\nimport { Button, Grid, Slider, Typography } from '@material-ui/core';\n\nfunction App() {\n  const [spoken, setSpoken] = useState(false);\n  const [seqLengt, setSeqLength] = useState<number>(6);\n  const [maxRange, setMaxRange] = useState(99);\n  const [sequence, setSequence] = useState<number[]>([]);\n  const [showSequence, setShowSequence] = useState(true);\n  const [allowedTime, setAllowedTime] = useState(30);\n  const [timeLeft, setTimeLeft] = useState(allowedTime);\n  const [answers, setAnswers] = useState<(number | undefined)[]>([]);\n  const [speed, setSpeed] = useState(1);\n\n  let timer = useRef<any>(undefined);\n\n  const generateSequence = () => {\n    speechSynthesis.cancel();\n    const newSequence = [];\n    const newAnswers = [];\n    for (let i = 0; i < seqLengt; i++) {\n      const number = Math.floor(Math.random() * (maxRange + 1));\n      newSequence.push(number);\n      newAnswers.push(undefined);\n    }\n    setSequence(newSequence);\n    setAnswers(newAnswers);\n    setTimeLeft(allowedTime);\n    if (spoken) {\n      speakSequence(newSequence);\n      setShowSequence(false);\n    } else {\n      setShowSequence(true);\n    }\n  };\n\n  const speakSequence = (newSequence: number[]) => {\n    clearTimeout(timer.current);\n    setTimeLeft(allowedTime);\n\n    speechLoop(newSequence, 0);\n  };\n\n  const speechLoop = (newSequence: number[], index: number) => {\n    const msg = new SpeechSynthesisUtterance(newSequence[index].toString());\n    msg.voice = speechSynthesis.getVoices()[2];\n\n    msg.onend = () => {\n      if (index + 1 === newSequence.length) {\n        console.log('fired');\n\n        countdown();\n      } else {\n        setTimeout(() => speechLoop(newSequence, index + 1), speed * 1000);\n      }\n    };\n\n    speechSynthesis.speak(msg);\n  };\n\n  const revealSequence = () => {\n    setShowSequence(true);\n  };\n\n  const renderSequence = () => {\n    return sequence.join(' - ');\n  };\n\n  const setAnswer = (newValue: string, index: number) => {\n    const newAnswers = [...answers];\n    newAnswers[index] = parseInt(newValue);\n    setAnswers(newAnswers);\n  };\n\n  const changeMaxRange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newMax = parseInt(e.target.value);\n    setMaxRange(newMax);\n  };\n\n  const renderAnswers = (): ReactNode[] =>\n    sequence.map((_, i) => {\n      return (\n        <input\n          type='number'\n          className='answer-input'\n          id={`${i}`}\n          key={i}\n          onChange={(e) => setAnswer(e.target.value, i)}\n          disabled={showSequence}\n        />\n      );\n    });\n\n  const renderResults = (): ReactNode[] =>\n    sequence.map((number, index) => {\n      if (number === answers[index]) {\n        return (\n          <CheckCircleOutlineIcon\n            style={{ ...resultStyle, color: green[500] }}\n            fontSize='large'\n            key={index}\n          />\n        );\n      }\n      return (\n        <HighlightOffIcon\n          color='error'\n          fontSize='large'\n          style={{ ...resultStyle }}\n          key={index}\n        />\n      );\n    });\n\n  const countdown = () => {\n    setTimeLeft(allowedTime);\n    timer.current = setInterval(() => {\n      if (timeLeft > 0) {\n        setTimeLeft((prev) => (prev > 0 ? prev - 1 : 0));\n      } else {\n        clearInterval(timer.current);\n      }\n    }, 1000);\n  };\n\n  useEffect(() => {\n    if (timeLeft === 0) {\n      setShowSequence(false);\n    }\n  }, [timeLeft]);\n\n  useEffect(() => {\n    generateSequence();\n    if (!spoken) {\n      countdown();\n    } else {\n      setShowSequence(false);\n    }\n  }, [spoken]);\n\n  const hideableItemsVisibility = timeLeft > 0 ? 'hidden' : 'initial';\n\n  return (\n    <div className='App'>\n      <header className='App-header'>\n        <div style={{ marginBottom: '20px' }}>\n          <Grid\n            component='label'\n            container\n            alignItems='center'\n            spacing={3}\n            style={{ marginBottom: '20px' }}\n          >\n            <Grid item>\n              <Button\n                variant={spoken ? 'outlined' : 'contained'}\n                color='primary'\n                onClick={() => {\n                  if (spoken) {\n                    setSpoken(false);\n                  }\n                }}\n              >\n                Display\n              </Button>\n            </Grid>\n\n            <Grid item>\n              <Button\n                variant={spoken ? 'contained' : 'outlined'}\n                color='secondary'\n                onClick={() => {\n                  if (!spoken) {\n                    setSpoken(true);\n                  }\n                }}\n              >\n                Speak\n              </Button>\n            </Grid>\n          </Grid>\n\n          <Typography id='seq-length-slider' gutterBottom>\n            Sequence Length\n          </Typography>\n          <Slider\n            defaultValue={seqLengt}\n            value={seqLengt}\n            valueLabelDisplay='auto'\n            step={1}\n            marks\n            min={4}\n            max={14}\n            onChange={(_, newValue) => setSeqLength(newValue as number)}\n          />\n\n          <Typography id='countdown-duration-slider' gutterBottom>\n            {`${spoken ? 'Lapsed' : 'Memorizing'} Time (secs):`}\n          </Typography>\n          <Slider\n            defaultValue={seqLengt}\n            value={allowedTime}\n            valueLabelDisplay='auto'\n            step={5}\n            marks\n            min={5}\n            max={60}\n            onChange={(_, newValue) => setAllowedTime(newValue as number)}\n          />\n\n          <Grid component='label' container alignItems='center' spacing={0}>\n            <Grid item>\n              <Typography id='seq-length-slider' gutterBottom>\n                Item Range: 0 to\n              </Typography>\n            </Grid>\n            <Grid item>\n              <input\n                type='number'\n                className='answer-input'\n                maxLength={2}\n                value={maxRange}\n                onChange={changeMaxRange}\n              />\n            </Grid>\n          </Grid>\n\n          <div\n            style={{\n              visibility: spoken ? 'initial' : 'hidden',\n            }}\n          >\n            <Typography id='countdown-duration-slider' gutterBottom>\n              Speech Speed\n            </Typography>\n            <Slider\n              defaultValue={speed}\n              value={speed}\n              valueLabelDisplay='auto'\n              step={0.1}\n              marks\n              min={0.8}\n              max={2}\n              onChange={(_, newValue) => setSpeed(newValue as number)}\n            />\n          </div>\n        </div>\n\n        <Button\n          variant='contained'\n          color='secondary'\n          onClick={generateSequence}\n        >\n          Generate New\n        </Button>\n\n        <p\n          style={{\n            visibility: showSequence ? 'initial' : 'hidden',\n          }}\n        >\n          {renderSequence()}\n        </p>\n\n        <div\n          className='answer-container'\n          style={{ visibility: hideableItemsVisibility }}\n        >\n          {renderAnswers()}\n        </div>\n        <div\n          className='answer-container'\n          style={{\n            visibility: timeLeft === 0 && showSequence ? 'initial' : 'hidden',\n          }}\n        >\n          {renderResults()}\n        </div>\n\n        <p>Time remaining: {timeLeft}</p>\n\n        <Button\n          variant='contained'\n          color='primary'\n          onClick={revealSequence}\n          style={{\n            visibility: timeLeft === 0 && !showSequence ? 'initial' : 'hidden',\n          }}\n        >\n          Reveal\n        </Button>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n\nconst resultStyle = {\n  width: '1.7rem',\n  margin: '0 14px',\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}